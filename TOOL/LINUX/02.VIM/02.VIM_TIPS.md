# Vi Tips

[[_TOC_]]

## スクリプトの実行

### viをスリープさせる方法

1. `C-Z`でいったんVimを休止させて，シェルに戻る

2. スクリプトを実行

3. `$ fg`でVimに戻る

### viの中から直接実行する方法

```
:! %:p
```
(ただし，スクリプトの中のパスをフルパスで指定しないとだめ)
  
  
## vi上でターミナルを開く

vi上でコマンドの実行ができる

### ターミナルを開く

`ESC`や`CTL`＋`[`で，まずノーマルモードに入る

`:bo term`で，画面を上下に分割し，下の画面にターミナルを開く (bottom terminal)

`:top term`で，画面を上下に分割し，上の画面にターミナルを開く (top terminal)

`:vert term`で，画面を左右に分割し，片方の画面にターミナルを開く (vertical terminal)



### ターミナル画面の終了

```bash
$ exit
```

### 画面間の移動

`CTL`+`j` : 上の画面に移動

`CTL`+`k` : 上の画面に移動

`CTL`+`h` : 左の画面に移動

`CTL`+`l` : 右の画面に移動

### 分割した画面の大きさの変更

`CTL`+`w` `>`幅を広げる (`CTL`+`w` `3` `>` 3文字分幅を広げる)

`CTL`+`w` `<`幅を狭くする (`CTL`+`w` `3` `<` 3文字分幅を狭くする)

`CTL`+`w` `+`高さを高くする (`CTL`+`w` `3` `+` 3文字分高さを高くする)

`CTL`+`w` `-`高さを低くする (`CTL`+`w` `3` `-` 3文字分高さを低くする)
  
  

## ファイル・ブラウザ 

NetNWというエクスプローラーのような機能がある

### NetNWの起動

```
$ vi .
```

### ファイルを開く

`t`: ファイルを新しいタブで開く

`Enter`: netrw.vimで開いているバッファの上にファイルを開く（netrw.vimの画面は消える）

`v`: 左右に画面分割してファイルを開く

`o`: 上下に画面分割してファイルを開く



### 表示方法の変更

`i`: 繰り返し押すと表示方法が変わる



### ディレクトリの作成と削除

`d`: ディレクトリを作成

`D` : ファイル・ディレクトリ(空なら)を削除

`e` ファイル名 : ファイルを作成



## ファイルのマーク

ファイルを選択するような感じ

`mf` : カーソル上のファイルをマークする/マークを削除

`mr` : ワイルドカードを指定してファイルをマークする

`mu` : 全てのマークを解除



## ファイルのコピー・移動

`mt`  : コピー、移動先のディレクトリを、カーソル下のディレクトリに設定する
`mc`  : マークしたファイルをコピーする
`mm`  : マークしたファイルを移動する
`D`   : マークしたファイルを削除する



http://sawasawato.blog.fc2.com/blog-entry-57.html

https://hagure-beans.hatenablog.com/entry/20100603/1275591475

http://blog.tojiru.net/article/234400966.html
  
  

## 1→2→3 ...と数字を大きくする方法

1. ノーマルモードにする

2. 数字の上で`C-A`



